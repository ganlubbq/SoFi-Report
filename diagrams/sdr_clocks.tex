\begin{figure}
  \centering

  \begin{tikzpicture}
    \draw
    (2, 2.5) node[american not port](pierce_not){}
    (pierce_not.out) to[short]
    +(0.5, 0) to[short, -*]
    +(0, -1.5) coordinate(pierce_out) to[piezoelectric]
    (1, 1) to[short]
    (1, 2.5) to[short]
    (pierce_not.in);

    \draw
    (pierce_out) to[short]
    +(1, 0) coordinate(pierce_out_2) to[twoport, t=PLL, >]
    +(0, 2) coordinate(mix_pll_out);

    \draw
    (mix_pll_out)
    +(0.8, 1.3) node[mixer](mixer_q){}
    +(0.8, 3.3) node[mixer](mixer_i){};

    \draw
    (mix_pll_out) to[short]
    (mixer_q.2) node[inputarrow, rotate=45]{};

    \draw
    (mix_pll_out) to[short, *-]
    +(0, 2) to[short]
    (mixer_i.2) node[inputarrow, rotate=45]{};

    \draw
    (mixer_q.1) node[inputarrow]{} to[short]
    +(-1, 0) coordinate(ant_amp_out) to[amp, invert]
    +(-2.5, 0) node[antenna](ant_in){};

    \draw
    (ant_amp_out) to[short, *-]
    +(0, 2) to[short]
    (mixer_i.1);

    \draw
    (mixer_i.3) to[lowpass, >]
    +(3, 0) to[adc, >]
    +(2, 0) to[short, -*]
    +(0.5,0);

    \draw
    (mixer_q.3) to[lowpass, >]
    +(3, 0) to[adc, >]
    +(2, 0) to[short, -*]
    +(0.5,0);

    \draw
    (pierce_out_2) to[short, *-]
    +(4.5, 0) to[twoport, t=PLL, >]
    +(0, 2) coordinate(adc_pll_tap) to[short]
    +(0.8, 0.8) node[inputarrow, rotate=45]{};

    \draw
    (adc_pll_tap) to[short, *-]
    +(0, 2) to[short]
    +(0.8, 0.8) node[inputarrow, rotate=45]{};

    \draw[dotted]
    (0.25, 0.25) --
    (7.75, 0.25) --
    (7.75, 7.25) --
    (3.25, 7.25) --
    (0.25, 4.25) --
    (0.25, 0.25);

    \draw[dotted]
    (8, 0.25) --
    (11.5, 0.25) --
    (11.5, 7.25) --
    (8, 7.25) --
    (8, 0.25);

    \draw
    (3.75, 0.25) node[below]{E4000}
    (9.75, 0.25) node[below]{RTL2832U};
  \end{tikzpicture}

  \caption{Block-diagram of a RTL-SDR dongle}
  \label{img:rtl_sdr_schematic}
\end{figure}
